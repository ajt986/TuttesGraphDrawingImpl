<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
	<title>LG To PLSG</title>	
	<script src="js/jquery-1.9.1.js"></script>
	<script src="js/vertex.js"></script>
	<script src="js/edge.js"></script>
	<script src="js/graph.js"></script>
	<script src="js/linearalgebra.js"></script>
	<script src="js/geometry.js"></script>
	<script src="js/tuttesalgorithm.js"></script>
	<script>
		var originalpoints;

		var savePoints = function(vertices){
			originalpoints = new Array(vertices.length);
			for(var i = 0; i < vertices.length; i++){
				originalpoints[i] = vertices[i].getPoint();
			}	
		}

		var restorePoints = function(vertices){
			for(var i = 0; i < vertices.length; i++){
				vertices[i].setPoint(originalpoints[i]);
			}	
		}

		$(function(){
			var canvas = document.getElementById("appcanvas");
			var ctx = canvas.getContext("2d");

			var g;
			var m;
			
			$("#matrixload").click(function(){
				m = new ConvertMatrix();
				//document.write("hello");
				m.convertmatrix($("#matrixinput").val());
			});

			$("#load").click(function(){
				g = new Graph();
				g.loadGraph($("#graphinput").val(), 600, 500);
				savePoints(g.getVertices());
				ctx.clearRect(0,0,600,500);
				g.draw(ctx);
			});

			$("#restore").click(function(){
				restorePoints(g.getVertices());
				ctx.clearRect(0,0,600,500);
				g.draw(ctx);
			});

			$("#pslg").click(function(){
				var ta = new TuttesAlgorithm();
				ta.drawGraph(ctx, g, 600, 500);
			});

		});



	</script>

	<style>
		#appcanvas {
			border-style: solid;
		}
	
		.inputcontrols {
			float: left;
		}

	</style>
</head>
<body>

<canvas id="appcanvas" width="600" height="500"></canvas>

<div id="controls">

	<div class="inputcontrols">
		<div>Input:</div>
		<div>
			<textarea id="graphinput" rows="4" cols="25">5&#10;0,3&#10;0,2&#10;0,1&#10;1,3&#10;1,2&#10;1,4&#10;2,3&#10;2,4&#10;3,4</textarea>
		</div>
		<div>
			<!-- <button>Random Graph</button> -->
			<button id="load">Load</button>
		</div>
		<div>
			<textarea id = "matrixinput" rows = "4" cols = "25">4&#10;0,1,1,1&#10;1,0,1,1&#10;1,1,1,0&#10;1,1,0,1</textarea>
		</div>

		<div>
			<!-- <button>Matrix Load button</button> -->
			<input id="matrixload" type="button" value="Load Matrix">
			<!--<button id="matrixload">Matrix Load</button> -->
		</div>
	</div>

	<div class="algorithmcontrols">
		<button id="restore">Original Graph</button>
		<button>Previous</button>
		<button>Next</button>
		<button id="pslg">PSLG</button>
	</div>
</div>
</body>
</html>
